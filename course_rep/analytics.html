<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
        />
        <link
            rel="stylesheet"
            href="styles.css"
        />
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
            rel="stylesheet"
        />
        <title>Attendance Metrics</title>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script
            src="./script.js"
            defer
        ></script>
        <style>
            main {
                line-height: 1.6;
                background: #fff;
                padding: 20px;
            }

            section {
                margin-bottom: 30px;
            }

            canvas {
                margin: 20px 0;
            }

            .summary {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
                margin-bottom: 20px;
            }

            .summary-card {
                background: #f9f9f9;
                border: 1px solid #ddd;
                border-radius: 8px;
                padding: 15px;
                text-align: center;
            }

            .summary-card span {
                display: block;
                font-size: 0.9rem;
            }

            .summary-card .value {
                font-size: 1.4rem;
                font-weight: bold;
                color: #00a828;
            }
            
            .value.red {
                color: #ff1e34;
            }

            .filter {
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                margin-bottom: 20px;
            }

            .filter select {
                padding: 8px 12px;
                border: 1px solid #ddd;
                border-radius: 5px;
                font-size: 0.9rem;
            }
            
            .filter button {
                padding: 5px 10px;
                background-color: #007bff;
                color: white;
                border: none;
                border-radius: 4px;
                cursor: pointer;
            }

            .filter button:hover {
                background-color: #0056b3;
            }
            
            .goal {
                text-align: center;
                margin-top: 10px;
                font-size: 1rem;
                color: #dc3545;
                font-weight: bold;
            }
        </style>
    </head>
    <body>
        <header>
            <h1>Attendance Metrics</h1>
        </header>
        <main>
            <!-- Filters -->
            <section>
                <h2>Filters</h2>
                <div class="filter">
                    <select>
                        <option
                            value="all-courses"
                            selected
                        >
                            All Courses
                        </option>
                        <option value="math">Math</option>
                        <option value="physics">Physics</option>
                        <option value="chemistry">Chemistry</option>
                    </select>
                    <select>
                        <option
                            value="weekly"
                            selected
                        >
                            Weekly
                        </option>
                        <option value="monthly">Monthly</option>
                        <option value="semester">Semester</option>
                    </select>
                    <select>
                        <option
                            value="all-status"
                            selected
                        >
                            All Status
                        </option>
                        <option value="attended">Attended</option>
                        <option value="missed">Missed</option>
                        <option value="late">Late</option>
                    </select>
                    <button onclick="applyFilter()">Apply Filter</button>
                </div>
            </section>

            <!-- Line Chart -->
            <section>
                <h2>Attendance Over Time</h2>
                <canvas id="lineChart"></canvas>
            </section>

            <!-- Bar Chart -->
            <section>
                <h2>Attendance by Course</h2>
                <canvas id="barChart"></canvas>
            </section>

            <!-- Pie Chart -->
            <section>
                <h2>Overall Attendance Breakdown</h2>
                <canvas id="pieChart"></canvas>
            </section>

            <!-- Statistical Summary -->
            <section>
                <h2>Summary</h2>
                <div class="summary">
                    <div class="summary-card">
                        <span>Total Attendance</span>
                        <span class="value red">85%</span>
                    </div>
                    <div class="summary-card">
                        <span>Classes Attended</span>
                        <span class="value">42</span>
                    </div>
                    <div class="summary-card">
                        <span>Missed Classes</span>
                        <span class="value">7</span>
                    </div>
                    <div class="summary-card">
                        <span>Weekly Average Attendance</span>
                        <span class="value">90%</span>
                    </div>
                </div>
                <div class="goal">Goal: Maintain at least 90% attendance this semester!</div>
            </section>
        </main>
        <footer>
            <ul>
                <li>
                    <a
                        href="./attendance.html"
                        class="nav-link"
                        ><svg
                            xmlns="http://www.w3.org/2000/svg"
                            height="24px"
                            height="24px"
                            height="24px"
                            viewBox="0 -960 960 960"
                            width="24px"
                            fill="#e8eaed"
                        >
                            <path
                                d="M640-400q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35ZM400-160v-76q0-21 10-40t28-30q45-27 95.5-40.5T640-360q56 0 106.5 13.5T842-306q18 11 28 30t10 40v76H400Zm86-80h308q-35-20-74-30t-80-10q-41 0-80 10t-74 30Zm154-240q17 0 28.5-11.5T680-520q0-17-11.5-28.5T640-560q-17 0-28.5 11.5T600-520q0 17 11.5 28.5T640-480Zm0-40Zm0 280ZM120-400v-80h320v80H120Zm0-320v-80h480v80H120Zm324 160H120v-80h360q-14 17-22.5 37T444-560Z"
                            /></svg
                    ></a>
                </li>
                <li>
                    <a
                        href="./timetable.html"
                        class="nav-link"
                        ><svg
                            xmlns="http://www.w3.org/2000/svg"
                            height="24px"
                            viewBox="0 -960 960 960"
                            width="24px"
                            fill="#e8eaed"
                        >
                            <path
                                d="M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Zm280 240q-17 0-28.5-11.5T440-440q0-17 11.5-28.5T480-480q17 0 28.5 11.5T520-440q0 17-11.5 28.5T480-400Zm-160 0q-17 0-28.5-11.5T280-440q0-17 11.5-28.5T320-480q17 0 28.5 11.5T360-440q0 17-11.5 28.5T320-400Zm320 0q-17 0-28.5-11.5T600-440q0-17 11.5-28.5T640-480q17 0 28.5 11.5T680-440q0 17-11.5 28.5T640-400ZM480-240q-17 0-28.5-11.5T440-280q0-17 11.5-28.5T480-320q17 0 28.5 11.5T520-280q0 17-11.5 28.5T480-240Zm-160 0q-17 0-28.5-11.5T280-280q0-17 11.5-28.5T320-320q17 0 28.5 11.5T360-280q0 17-11.5 28.5T320-240Zm320 0q-17 0-28.5-11.5T600-280q0-17 11.5-28.5T640-320q17 0 28.5 11.5T680-280q0 17-11.5 28.5T640-240Z"
                            /></svg
                    ></a>
                </li>
                <li>
                    <a
                        href="./analytics.html"
                        class="nav-link"
                        ><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M280-280h80v-200h-80v200Zm320 0h80v-400h-80v400Zm-160 0h80v-120h-80v120Zm0-200h80v-80h-80v80ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z"/></svg></a>
                </li>
                <li>
                    <a
                        href="./profile.html"
                        class="nav-link"
                        ><svg
                            xmlns="http://www.w3.org/2000/svg"
                            height="24px"
                            viewBox="0 -960 960 960"
                            width="24px"
                            fill="#e8eaed"
                        >
                            <path
                                d="M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Zm80-80h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T560-640q0-33-23.5-56.5T480-720q-33 0-56.5 23.5T400-640q0 33 23.5 56.5T480-560Zm0-80Zm0 400Z"
                            /></svg
                    ></a>
                </li>
            </ul>
        </footer>
        <script>
            // Line Chart (Attendance Over Time)
            const lineCtx = document.getElementById("lineChart").getContext("2d");
            new Chart(lineCtx, {
                type: "line",
                data: {
                    labels: ["Week 1", "Week 2", "Week 3", "Week 4", "Week 5"],
                    datasets: [
                        {
                            label: "Attendance Percentage",
                            data: [80, 90, 85, 95, 92],
                            borderColor: "#00ba3a",
                            backgroundColor: "rgba(0, 186, 158, 0.2)",
                            fill: true,
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        x: { title: { display: true, text: "Weeks" } },
                        y: { title: { display: true, text: "Attendance (%)" }, min: 0, max: 100 }
                    }
                }
            });

            // Bar Chart (Attendance by Course)
            const barCtx = document.getElementById("barChart").getContext("2d");
            new Chart(barCtx, {
                type: "bar",
                data: {
                    labels: ["Math", "Physics", "Chemistry", "English", "Biology"],
                    datasets: [
                        {
                            label: "Attendance Percentage",
                            data: [92, 76, 68, 85, 80],
                            backgroundColor: [
                                "#6200ee",
                                "#03dac6",
                                "#ff0266",
                                "#ffd600",
                                "#00bfa5"
                            ],
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        x: { title: { display: true, text: "Courses" } },
                        y: { title: { display: true, text: "Attendance (%)" }, min: 0, max: 100 }
                    }
                }
            });

            // Pie Chart (Overall Attendance Breakdown)
            const pieCtx = document.getElementById("pieChart").getContext("2d");
            new Chart(pieCtx, {
                type: "pie",
                data: {
                    labels: ["Attended", "Missed", "Late"],
                    datasets: [
                        {
                            data: [85, 10, 5],
                            backgroundColor: ["#28a745", "#dc3545", "#ffc107"],
                            hoverOffset: 4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { position: "bottom" }
                    }
                }
            });
        </script>
    </body>
</html>
